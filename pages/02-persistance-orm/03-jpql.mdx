Tym razem do tworzenia zapytań zamiast czystego SQL'a będziemy używać JPQL (Java Persistance Query Language). 
Jest to niezależny od platformy, zorientowany obiektowo język zapytań, zdefiniowany jako część JPA.

JPQL jest mocno inspirowany SQL'em, jednak m.in. ze względu na zorientowanie obiektowe posiada kilka różnic.


### Przykłady

Załóżmy, że posiadamy klasę `Student` posiadającą pola `firstName`, `lastName` i `indexNumber`. Aby pobrać z niej wszystkie dane możemy wykonać następujące zapytanie JQL:

```java
SELECT s FROM Student s
```
W tym miejscu warto zauwazyć, że nie odwołujemy się do nazwy tabeli a do nazwy klasy.

Gdybyśmy chcieli pobrać studenta z numerem indeksu 123456 to nasze zapytanie wyglądałoby następująco:

```java
SELECT s FROM Student s WHERE s.indexNumber = 123456
```
Ponownie trzeba zauważyć, że w JPQL nie odwołujemy sie do nazwy kolumny tylko do nazwy pola.


### Tworzenie zapytań JPQL w Javie

```java
Session session = getCurrentSession() //1
Car car = session.createQuery("Select c FROM Car c WHERE c.year = :year", Car.class) //2
                 .setParameter("year",  2016) //3
                 .getSingleResult(); //4
```

1. Do tworzenia zapytań potrzebujemy obiekt typu `Session`. W naszym laboratorium możemy ją pozyskać korzystając z metody `getCurrentSession()` w `GenericDao`.
1. Tworzymy Query korzystając z metody `session.createQuery()`. Jako argumenty podajemy treść zapytania oraz klasę, której dotyczy zapytanie. W zapytaniu możemy umieszczać parametry, korzystając z dwukropka (`:nazwa_parametru`).
1. Pod parametry podstawiamy konkretne dane.
1. Pobieramy pojedynczy rezultat.

